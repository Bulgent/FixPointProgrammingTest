# FixPointProgrammingTest
## ファイルについて
answer.txt, question.pyはその番号が設問番号と対応している。  
例：answer1.txtは設問1のテスト結果，question1.pyは設問1のプログラム  
テストはlog.txtを用いて行った。  

## 設問1
### 内容
サーバーを1行毎に読み取り、タイムアウトか否かを確認した。  
タイムアウトの場合はさらに、既に故障中か否かで処理を分岐し、故障中であれば特に処理をせず、故障開始であればその日時を記録した。  
タイムアウトではない場合は、同様に既に故障中か否かで処理を分岐し、故障中であれば既に故障解消としその日時を記録した。  
サーバーが既に故障しているか否かの判定は、サーバーが`broken_server_lst`に含まれているか否かで判断した。  
ログを全て解析した後に、開始時間と終了時間をlog1.txtに書き込んだ。  
開始時間のみであり終了時間が記録されていなければ未だ故障中とし、infと記載した。  
### 実行方法
`python question1.py`  
パラメータ変更は`if __name__ == '__main__'`以下の変数を変更することで可能。  

## 設問2
### 内容
サーバーを1行毎に読み取り、タイムアウトか否かを確認した。  
タイムアウトの場合、`broken_count_dict`にて連続タイムアウト回数を記録した。  
加算後連続タイムアウト回数が1の場合は、故障開始日時を記録した。  
タイムアウトではない場合は、同様に既に故障中か否かで処理を分岐し、故障中であれば連続タイムアウト回数をもとに処理を決定した。  
連続タイムアウト回数が閾値以上であれば、終了日時を記録した。  
閾値未満の場合、故障ではないと判断し、既に記録していた故障開始日時を削除した。  
ログを全て解析した後に、開始時間と終了時間をlog2.txtに書き込んだ。  
開始時間のみであり終了時間が記録されていなければ未だ故障中とし、infと記載した。  
### 実行方法
`python question2.py`  
パラメータ変更は`if __name__ == '__main__'`以下の変数を変更することで可能。  

## 設問3
### 内容
サーバーを1行毎に読み取り、実行結果を基に処理を行った。  
m回の実行結果の平均値を比較することから、それぞれのサーバーの直近m回の実行結果を`server_tmp_logs_dict`に格納した。  
平均値をtと比較し、過負荷の場合はさらに、既に過負荷か否かで処理を分岐し、過負荷であれば特に処理をせず、過負荷開始であればその日時を記録した。  
タイムアウトは300msと仮定して計算した。  
過負荷ではない場合は、同様に既に過負荷か否かで処理を分岐し、既に過負荷であれば過負荷解消としその日時を記録した。  
サーバーが既に過負荷であるか否かの判定は、サーバーが`overload_server_lst`に含まれているか否かで判断した。  
ログを全て解析した後に、開始時間と終了時間をlog3.txtに書き込んだ。  
開始時間のみであり終了時間が記録されていなければ未だ故障中とし、infと記載した。  
### 実行方法
`python question3.py`  
パラメータ変更は`if __name__ == '__main__'`以下の変数を変更することで可能。  

## 設問4
### 内容
サーバーを1行毎に読み取り、タイムアウトか否かを確認した。  
タイムアウトの場合、`broken_count_dict`にて連続タイムアウト回数を記録した。  
加算後連続タイムアウト回数が1の場合は、故障開始日時を記録した。  
タイムアウトではない場合は、同様に既に故障中か否かで処理を分岐し、既に故障中であれば連続タイムアウト回数をもとに処理を決定した。  
連続タイムアウト回数が閾値以上であれば、終了日時を記録した。  
閾値未満の場合、故障ではないと判断し、既に記録していた故障開始日時を削除した。  
それぞれのサーバーの故障期間を基に、サブネット毎のサーバーの故障期間の重複期間を計算した。  
複数のサーバーの重複期間の計算には、サーバーを2つずつ比較することで計算した。  
重複しているか否かは、`サーバー1の故障開始日時 > サーバー2の故障終了日時`または`サーバー2の故障開始日時 > サーバー1の故障終了日時`を満たさないときに重複していると判断した。  
ログを全て解析した後に、開始時間と終了時間をlog4.txtに書き込んだ。  
開始時間のみであり終了時間が記録されていなければ未だ故障中とし、infと記載した。  

### 実行方法
`python question4.py`  
パラメータ変更は`if __name__ == '__main__'`以下の変数を変更することで可能。  
